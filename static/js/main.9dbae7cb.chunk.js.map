{"version":3,"sources":["FirebaseConfig.js","components/Button/Button.js","components/Header/Header.js","components/Authentication/Auth.js","components/PrivateRoute/PrivateRoute.js","views/Login.js","components/ViewIntroduction/Introduction.js","components/InventoryItem/InventoryItem.js","components/InventoryModal/InventoryModal.js","components/InventoryModal/InventoryUseModal.js","components/Camera/Camera.js","components/Avatar/Avatar.js","components/Timer/Timer.js","components/ViewGame/Game.js","views/Assessment.js","views/NotFound404.js","App.js","reportWebVitals.js","index.js"],"names":["app","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","Button","text","color","margin","padding","onClick","disabled","Style","backgroundColor","type","className","style","Header","currentUser","useContext","AuthContext","href","src","process","height","alt","email","auth","signOut","React","createContext","AuthProvider","children","useState","setCurrentUser","pending","setPending","useEffect","onAuthStateChanged","user","width","display","justifyContent","alignItems","role","Provider","value","PrivateRoute","RouteComponent","component","rest","render","routeProps","to","withRouter","history","handleLogin","useCallback","event","a","preventDefault","target","elements","password","signInWithEmailAndPassword","push","alert","id","onSubmit","name","placeholder","Introduction","onVideosEnded","videoEnded","setvideoEnded","videoCount","setvideoCount","controls","autoPlay","onEnded","console","log","InevntoryItem","image","tittle","onChange","disable","index","selected","setSelected","backgroundSize","backgroundImage","e","checked","htmlFor","InevntoryModal","limiteElementosSeleccionar","setSelection","tipo","setInventory","database","selectedElements","setselectedElements","used","inventoryItems","setInventoryItems","setSelectedItems","newInventoryArr","elementsReady","$","modal","SelectedItems","map","item","ref","uid","update","elementos_seleccionados","data-backdrop","data-keyboard","tabIndex","aria-labelledby","aria-hidden","data-dismiss","aria-label","i","InventoryUseModal","inventory","idItems","setIdItems","x","indexOf","splice","findIndex","element","Camera","forwardRef","setEtapaGrabacion","finish","setUploading","setCapturing","timeFinalized","moment","webcamRef","useRef","mediaRecorderRef","startCapture","setStartCapture","recordedChunks","setRecordedChunks","storage","handleStartCaptureClick","current","resume","MediaRecorder","stream","mimeType","addEventListener","handleDataAvailable","start","data","size","prev","concat","handleStopCaptureClick","stop","pause","handleSend","length","blob","Blob","put","then","snapshot","getDownloadURL","downloadURL","video","useImperativeHandle","startRecording","stopRecording","sendInformation","audio","videoConstraints","facingMode","mirrored","Sofia_Idle","Roberta_Idle","Avatar","srcVideosLoop","etapaGrabacion","finalText","onSayEnd","setTalking","videosArray","setVideosArray","setVideoCount","playing","setPlaying","videoRef","includes","window","location","protocol","host","tempVideosArray","key","infoJSON","charSay","play","changeAvatarVideo","avatar","srcVideo","videoCharSrc","character","getIdle","loop","Timer","seconds","setTimeFinalized","timeLeft","setTimeLeft","Math","floor","minutos","setMinutos","segundos","setSegundos","intervalId","setInterval","clearInterval","Game","avatarRef","cameraRef","momentsRef","Momentos","setMomentos","MomentosCount","setMomentosCount","capturing","etapaContexto","setEtapaContexto","etapaSeleccion","setEtapaSeleccion","etapaDemanda","setEtapaDemanda","finishMomento","setFinishMomento","uploading","talking","once","momentsArray","val","forEach","childSnapshot","usuario","audiosInicio","setTimeout","loaderDiv","flexDirection","limiteTiempo","textoFinal","audiosLoop","audios","textoContexto","objetivo","data-toggle","data-target","limiteElementosUsar","Assessment","videosEnded","setvideosEnded","NotFound404","App","exact","from","path","Login","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9dbae7cb.chunk.js","sourcesContent":["//importacion de firebase\r\nimport firebase from 'firebase';\r\n\r\nconst app = firebase.initializeApp({\r\n    apiKey: \"AIzaSyC438znp8gywW3xc28KmdyWv_kZx8I0HMM\",\r\n    authDomain: \"scenario-79b5a.firebaseapp.com\",\r\n    databaseURL: \"https://scenario-79b5a-default-rtdb.firebaseio.com\",\r\n    projectId: \"scenario-79b5a\",\r\n    storageBucket: \"scenario-79b5a.appspot.com\",\r\n    messagingSenderId: \"456183896058\",\r\n    appId: \"1:456183896058:web:87f4725737e1da16353643\"\r\n});\r\n\r\nexport default app;\r\n\r\n","import './Button.css'\r\n\r\nconst Button = ({text , color, margin, padding, onClick, disabled})=> {\r\n    const Style = {\r\n        backgroundColor: color,\r\n        margin: margin? margin:0,\r\n        padding: padding || \"15px 40px\",\r\n        backgroundColor: color? color:\"#457b9d\"\r\n    };\r\n\r\n    return (\r\n        <button \r\n            type=\"submit\" \r\n            className=\"appButton fadeIn fourth\" \r\n            style={Style}\r\n            onClick={onClick}\r\n            disabled={disabled?disabled:false}>\r\n                \r\n            {text}\r\n        </button>\r\n    );\r\n}\r\n  \r\nexport default Button;","import React, { useContext } from \"react\";\r\nimport app from '../../FirebaseConfig';\r\nimport { AuthContext } from \"../Authentication/Auth\"; \r\nimport Button from '../Button/Button'\r\n\r\nimport '../../Animations.css'\r\n\r\nfunction Header() {\r\n    const { currentUser } = useContext(AuthContext); //currentUser.email - currentUser.uid\r\n    return (\r\n        <nav className=\"navbar navbar-light fadeInDown\" style={{backgroundColor: \"#457b9d\"}}>\r\n            <a className=\"navbar-brand\" href=\"#\">\r\n                <img src={`${process.env.PUBLIC_URL}/Images/Logotipo_Scenario_blanco.png`} height=\"50\" alt=\"\"/>\r\n            </a>\r\n            \r\n            \r\n            <form className=\"form-inline\">\r\n                {/*<a className=\"nav-link \" >\r\n                    {currentUser.email}\r\n                        </a>*/}\r\n                <p className=\"h6 font-weight-light\" style={{color:\"white\"}}>{currentUser.email}</p>\r\n                <Button text=\"Cerrar sesión\" color=\"#b23b3b\" margin=\"0\" padding=\"10px 20px\" onClick={()=>app.auth().signOut()}></Button>\r\n            </form>\r\n            \r\n        </nav>\r\n            \r\n    );\r\n}\r\n  \r\nexport default Header;","import React, { useEffect, useState } from \"react\";\r\nimport app from \"../../FirebaseConfig\";\r\nimport Header from \"../Header/Header\";\r\n\r\nexport const AuthContext = React.createContext();\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n  const [pending, setPending] = useState(true);\r\n\r\n  useEffect(() => {\r\n    app.auth().onAuthStateChanged((user) => {\r\n      setCurrentUser(user)\r\n      setPending(false)\r\n    });\r\n  }, []);\r\n\r\n  if(pending){\r\n    return( \r\n        <div style={{width: \"100%\", height:\"100%\", display:\"flex\" , justifyContent:\"center\", alignItems:\"center\", backgroundColor: \"#DEDDDE\"}}>\r\n            <div className=\"spinner-border text-info\" style={{width: \"3rem\", height:\"3rem\"}} role=\"status\">\r\n                <span className=\"sr-only\">Cargando...</span>\r\n            </div>\r\n        </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <AuthContext.Provider\r\n      value={{\r\n        currentUser\r\n      }}\r\n    >\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};","import React, { useContext } from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { AuthContext } from \"../Authentication/Auth\";\r\n\r\nconst PrivateRoute = ({ component: RouteComponent, ...rest }) => {\r\n  const {currentUser} = useContext(AuthContext);\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={routeProps =>\r\n        !!currentUser ? (\r\n          <RouteComponent {...routeProps} />\r\n        ) : (\r\n          <Redirect to={\"/login\"} />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\n\r\nexport default PrivateRoute","import React, { useCallback, useContext } from \"react\";\r\nimport { withRouter, Redirect } from \"react-router\";\r\nimport app from \"../FirebaseConfig\";\r\nimport { AuthContext } from \"../components/Authentication/Auth\";\r\nimport './Login.css'\r\nimport '../Animations.css'\r\n\r\nimport Button from '../components/Button/Button';\r\n\r\nconst Login = ({ history }) => {\r\n  const handleLogin = useCallback(\r\n    async event => {\r\n      event.preventDefault();\r\n      const { email, password } = event.target.elements;\r\n      try {\r\n        await app\r\n          .auth()\r\n          .signInWithEmailAndPassword(email.value, password.value);\r\n\r\n        history.push(\"/assessment\");\r\n      } catch (error) {\r\n        alert(\"Lo sentimos, \\nEl usuario y/o la contraseña no son correctos. \\nInténtalo nuevamente.\");\r\n      }\r\n    },\r\n    [history]\r\n  );\r\n\r\n  const { currentUser } = useContext(AuthContext);\r\n\r\n  if (currentUser) {\r\n    return <Redirect to=\"/assessment\" />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"wrapper fadeInDown\">\r\n      <div id=\"formContent\">\r\n        <div className=\"fadeIn first\">\r\n          <img src={`${process.env.PUBLIC_URL}/Images/Logotipo_Scenario.png`} id=\"icon\" alt=\"User Icon\" />\r\n          {/*<h2>Assessment VR</h2>*/}\r\n          <p >\r\n            La experiencia virtual para\r\n            desarrollar y aplicar evaluaciones de\r\n            comportamientos ante situaciones inesperadas.\r\n          </p>\r\n        </div>\r\n\r\n        <form className=\"forUser\" onSubmit={handleLogin}>\r\n          <input className=\"fadeIn second\"  name=\"email\" type=\"email\" placeholder=\"Correo Electrónico\"/>\r\n          <input className=\"fadeIn third\"  name=\"password\" type=\"password\" placeholder=\"Contraseña\"/>\r\n          <Button text=\"Iniciar Sesión\" margin=\".5rem\"></Button>\r\n          {/*<a className=\"underlineHover\" href=\"#\">Crear una cuenta</a>*/}\r\n        </form>\r\n\r\n        <div id=\"formFooter\">\r\n          \r\n          <p className=\"mb-0 mx-3 font-weight-light\">Powered By</p>\r\n          <img src={`${process.env.PUBLIC_URL}/Images/LogoKaleido.png`} height={80} />\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n    \r\n  );\r\n};\r\n\r\nexport default withRouter(Login);","import React, { useState } from 'react';\r\nimport Button from '../Button/Button'\r\nimport './Introduction.css'\r\nimport '../../Animations.css'\r\n\r\nconst Introduction = ({onVideosEnded})=> {\r\n\r\n    const [videoEnded, setvideoEnded] = useState(false);\r\n    const [videoCount, setvideoCount] = useState(1);\r\n    const updateVideo = ()=>{\r\n        if(videoCount < 6){\r\n            setvideoEnded(false);\r\n            setvideoCount(videoCount+1)\r\n        }\r\n        else{\r\n            onVideosEnded(true)\r\n        } \r\n    }\r\n\r\n    const goBack = ()=>{\r\n        if(videoCount > 1){\r\n            setvideoEnded(false);\r\n            setvideoCount(videoCount-1);\r\n            console.log(\"regresando...\")\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"introduction-container\">\r\n            <video \r\n                src={process.env.PUBLIC_URL+\"/Videos/Introduction/\"+ videoCount +\".mp4\"} \r\n                controls \r\n                autoPlay={true}\r\n                width=\"100\"\r\n                className=\"introduction-video fadeIn second\"\r\n                onEnded={() => setvideoEnded(true)}></video>\r\n            <div>\r\n                {videoCount!=1&&<Button text=\"Regresar\" margin=\"1rem\" onClick={goBack} color=\"#b23b3b\"></Button>}\r\n                <Button text=\"Continuar\" margin=\"1rem\" disabled={!videoEnded} onClick={updateVideo}></Button>\r\n            </div>\r\n            \r\n        </div>\r\n    );\r\n}\r\n  \r\nexport default Introduction;","import React, { useEffect, useState } from 'react';\r\nimport './InventoryItem.css'\r\n\r\nconst InevntoryItem = ({id,image, tittle, onChange, disable, index})=> {\r\n    const [selected, setSelected] = useState(false);\r\n\r\n    const Style = {\r\n        backgroundSize: \"contain\",\r\n        backgroundImage:\"url(\"+image+\")\", //`url(${image})`,\r\n    }\r\n\r\n    return (\r\n        <div className=\"inventory-item-container\">\r\n            <div >\r\n                <input \r\n                    style={Style}\r\n                    disabled={!selected?disable:false}\r\n                    id={id} \r\n                    type=\"checkbox\" \r\n                    //checked={selected}\r\n                    onChange={(e) => {\r\n                        onChange(e.target.checked,index)\r\n                        setSelected(e.target.checked)\r\n                    }}/>\r\n                    \r\n                <label className={!selected?(disable?\"checkbox-disabled checkbox\":\"checkbox\"):\"checkbox\"}  htmlFor={id} style={Style}> </label>\r\n            </div>\r\n            <p className=\"font-weight-light item-tittle\">{tittle}</p>\r\n            \r\n        </div>   \r\n    );\r\n}\r\n  \r\nexport default InevntoryItem;","\r\nimport React, { useEffect, useState, useContext } from 'react';\r\nimport InventoryItem from '../InventoryItem/InventoryItem';\r\nimport Button from '../Button/Button';\r\nimport './InventoryModal.css'\r\nimport $ from 'jquery';\r\n\r\nimport app from '../../FirebaseConfig';\r\nimport { AuthContext } from \"../Authentication/Auth\"; \r\n\r\nconst InevntoryModal = ({limiteElementosSeleccionar, setSelection, tipo, setInventory})=> {\r\n\r\n    const database = app.database();\r\n    const { currentUser } = useContext(AuthContext);\r\n\r\n    const [selectedElements, setselectedElements] = useState(0);\r\n    const [inventoryItems, setInventoryItems] = useState([\r\n        {id: \"item1\", tittle: \"Brújula\", image: process.env.PUBLIC_URL+\"/Images/Inventory/brujula.png\", selected: false, used: false}, \r\n        {id: \"item2\", tittle: \"Encendedor\", image: process.env.PUBLIC_URL+\"/Images/Inventory/encendedor.png\", selected: false, used: false},\r\n        {id: \"item3\", tittle: \"5 litros de agua\", image: process.env.PUBLIC_URL+\"/Images/Inventory/agua.png\", selected: false, used: false},\r\n        {id: \"item4\", tittle: \"Cuerda de 10 metros\", image: process.env.PUBLIC_URL+\"/Images/Inventory/cuerda.png\", selected: false, used: false},\r\n        {id: \"item5\", tittle: \"Manta o cobija\", image: process.env.PUBLIC_URL+\"/Images/Inventory/manta.png\", selected: false, used: false},\r\n        {id: \"item6\", tittle: \"6 enlatados de atún\", image: process.env.PUBLIC_URL+\"/Images/Inventory/comida-enlatada.png\", selected: false, used: false},\r\n        {id: \"item7\", tittle: \"6 barras energéticas\", image: process.env.PUBLIC_URL+\"/Images/Inventory/barra-energetica.png\", selected: false, used: false},\r\n        {id: \"item8\", tittle: \"Botiquín de primeros auxilios\", image: process.env.PUBLIC_URL+\"/Images/Inventory/botiquin-medico.png\", selected: false, used: false}\r\n    ])\r\n    \r\n    \r\n    const setSelectedItems = (value, id)=>{\r\n        console.log(id)\r\n        //Agrego uno al contador de elementos seleccionados\r\n        if(value){\r\n            if(selectedElements < limiteElementosSeleccionar){\r\n                setselectedElements(selectedElements+1)\r\n            }\r\n        }\r\n        else{\r\n            setselectedElements(selectedElements-1)\r\n        }\r\n\r\n        //seteo el estado seleccionado del item para saber cuales quedaran seleccionados para el resto del juego\r\n        let newInventoryArr = [...inventoryItems]; \r\n        newInventoryArr[id].selected = value; \r\n        setInventoryItems(newInventoryArr);\r\n        //\r\n        \r\n\r\n\r\n    }\r\n\r\n    const elementsReady = ()=>{\r\n        $('#inventoryModal').modal('hide')\r\n        setSelection(true);\r\n\r\n        let SelectedItems = [];\r\n        inventoryItems.map(item =>{\r\n            if(item.selected){\r\n                SelectedItems.push({tittle: item.tittle, image: item.image, id:item.id});\r\n            }\r\n        })\r\n        \r\n        database.ref(\r\n\t\t\t`respuestas/${currentUser.uid}/momento1/`\r\n\t\t).update({elementos_seleccionados: SelectedItems});\r\n\r\n        setInventory(SelectedItems)\r\n    }\r\n\r\n    return (\r\n        <div id=\"inventory-section\">\r\n             \r\n            <div className=\"modal fade bd-example-modal-lg\" id=\"inventoryModal\" data-backdrop=\"static\" data-keyboard=\"false\" tabIndex=\"-1\" aria-labelledby=\"inventoryModalLabel\" aria-hidden=\"true\">\r\n                <div className=\"modal-dialog modal-lg\">\r\n                    <div className=\"modal-content\">\r\n                    <div className=\"modal-header\">\r\n                        <h5 className=\"modal-title\" id=\"inventoryModalLabel\">Elige {limiteElementosSeleccionar} elementos para tu inventario</h5>\r\n                        <button type=\"button\" className=\"close\" \r\n                            data-dismiss=\"modal\" aria-label=\"Close\" \r\n                            disabled={!(selectedElements==limiteElementosSeleccionar)} \r\n                            onClick={tipo==\"seleccion\"?elementsReady:null}\r\n                            style={{display:(selectedElements==limiteElementosSeleccionar)?\"inline-block\":'none'}}>\r\n                            <span aria-hidden=\"true\">&times;</span>\r\n                        </button>\r\n                    </div>\r\n                    <div className=\"modal-body inventory-container\">\r\n                        {inventoryItems.map((item,i) => \r\n                            <InventoryItem key={i} index={i} id={item.id} tittle={item.tittle} image={item.image} disable={limiteElementosSeleccionar == selectedElements} onChange={setSelectedItems}></InventoryItem>\r\n                        )}\r\n\r\n                    </div>\r\n                    <div className=\"modal-footer \" >\r\n                        <p><small>Íconos tomados de www.flaticon.es</small></p>\r\n                        Seleccionados: {selectedElements}/{limiteElementosSeleccionar}\r\n                        {/*<Button text=\"Cerrar\" color=\"#A9A9A9\" margin=\"0 1rem\" padding=\"10px 20px\" onClick={()=>$('#inventoryModal').modal('hide')}></Button>*/}\r\n                        <Button text=\"Continuar\" margin=\"0 0 0 3rem\" padding=\"10px 20px\" disabled={!(selectedElements==limiteElementosSeleccionar)} onClick={elementsReady}></Button>\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n  \r\nexport default InevntoryModal;","import React, { useEffect, useState, useContext } from 'react';\r\nimport InventoryItem from '../InventoryItem/InventoryItem';\r\nimport Button from '../Button/Button';\r\nimport './InventoryModal.css'\r\nimport $ from 'jquery';\r\n\r\nimport app from '../../FirebaseConfig';\r\nimport { AuthContext } from \"../Authentication/Auth\"; \r\n\r\nconst InventoryUseModal = ({limiteElementosSeleccionar, setSelection, tipo, inventory, setInventory})=> {\r\n\r\n    const database = app.database();\r\n    const { currentUser } = useContext(AuthContext);\r\n\r\n    const [selectedElements, setselectedElements] = useState(0);\r\n    const [idItems, setIdItems] = useState([])\r\n    \r\n    \r\n    const setSelectedItems = (value, id)=>{\r\n\r\n        //Agrego uno al contador de elementos seleccionados\r\n        if(value){\r\n            if(selectedElements < limiteElementosSeleccionar){\r\n                setselectedElements(selectedElements+1)\r\n                idItems.push(inventory[id].id)\r\n            }\r\n        }\r\n        else{\r\n            setselectedElements(selectedElements-1)\r\n            var x = idItems.indexOf( inventory[id].id );\r\n \r\n            if ( x !== -1 ) {\r\n                idItems.splice( x, 1 );\r\n            }\r\n        }\r\n        //console.log(idItems)\r\n        //Modifico el arreglo eliminando los elementos seleccionados\r\n        /* let newInventoryArr = [...inventory]; \r\n        newInventoryArr.splice(id,1)\r\n        setInventory(newInventoryArr) */\r\n        \r\n\r\n    }\r\n\r\n    const elementsReady = ()=>{\r\n        $('#inventoryUseModal').modal('hide')\r\n        setSelection(true);\r\n        \r\n        let newInventoryArr = [...inventory];\r\n        idItems.map((item,i)=>{\r\n\r\n            const condition = (element) => element.id === item;\r\n            var x =newInventoryArr.findIndex(condition);\r\n \r\n            if ( x !== -1 ) {\r\n                newInventoryArr.splice( x, 1 );\r\n            }\r\n        })\r\n        setInventory(newInventoryArr)\r\n        console.log(inventory)\r\n        setIdItems([])\r\n        /* let SelectedItems = [];\r\n        inventoryItems.map(item =>{\r\n            if(item.selected){\r\n                SelectedItems.push({tittle: item.tittle, image: item.image});\r\n            }\r\n        })\r\n        \r\n        database.ref(\r\n\t\t\t`respuestas/${currentUser.uid}/momento1/`\r\n\t\t).update({elementos_seleccionados: SelectedItems}); */\r\n    }\r\n\r\n    return (\r\n        <div id=\"inventory-section\">\r\n             \r\n            <div className=\"modal fade bd-example-modal-lg\" id=\"inventoryUseModal\" data-backdrop=\"static\" data-keyboard=\"false\" tabIndex=\"-1\" aria-labelledby=\"inventoryModalLabel\" aria-hidden=\"true\">\r\n                <div className=\"modal-dialog modal-lg\">\r\n                    <div className=\"modal-content\">\r\n                    <div className=\"modal-header\">\r\n                        <div>\r\n                            <h5 className=\"modal-title\" id=\"inventoryModalLabel\">Puedes usar hasta {limiteElementosSeleccionar} elementos de tu inventario</h5>\r\n                            <p>Los elementos que uses se consumirán y no los podrás utilizar luego</p>\r\n                        </div>\r\n                        \r\n                        <button type=\"button\" className=\"close\" \r\n                            data-dismiss=\"modal\" aria-label=\"Close\" \r\n                            /* disabled={!(selectedElements==limiteElementosSeleccionar)} \r\n                            onClick={tipo==\"seleccion\"?elementsReady:null} */\r\n                            style={{display:\"inline-block\"}}>\r\n                            <span aria-hidden=\"true\">&times;</span>\r\n                        </button>\r\n                    </div>\r\n                    <div className=\"modal-body inventory-container\">\r\n                        {inventory.map((item,i) => \r\n                            <InventoryItem key={item.tittle} index={i} id={item.tittle} tittle={item.tittle} image={item.image} disable={limiteElementosSeleccionar == selectedElements} onChange={setSelectedItems}></InventoryItem>\r\n                        )}\r\n\r\n                    </div>\r\n                    <div className=\"modal-footer \" >\r\n                        <p><small>Íconos tomados de www.flaticon.es</small></p>\r\n                        Seleccionados: {selectedElements}/{limiteElementosSeleccionar}\r\n                        {/*<Button text=\"Cerrar\" color=\"#A9A9A9\" margin=\"0 1rem\" padding=\"10px 20px\" onClick={()=>$('#inventoryModal').modal('hide')}></Button>*/}\r\n                        <Button text=\"Continuar\" margin=\"0 0 0 3rem\" padding=\"10px 20px\" disabled={!(selectedElements<=limiteElementosSeleccionar)} onClick={elementsReady}></Button>\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n  \r\nexport default InventoryUseModal;","import React, { useState, useCallback, useRef, useContext, useImperativeHandle, forwardRef } from 'react';\r\nimport Webcam from 'react-webcam';\r\nimport Button from '../Button/Button'\r\nimport './Camera.css'\r\nimport '../../Animations.css'\r\n\r\nimport app from '../../FirebaseConfig';\r\nimport { AuthContext } from \"../Authentication/Auth\"; \r\n\r\nconst Camera = forwardRef(({setEtapaGrabacion, finish, setUploading, setCapturing, timeFinalized, moment }, ref) => {\r\n    /* videoCapturing */\r\n\tconst webcamRef = useRef(null);\r\n    const mediaRecorderRef = useRef(null);\r\n\r\n    const [startCapture, setStartCapture] = useState(false);\r\n    const [recordedChunks, setRecordedChunks] = useState([]);\r\n    //const [uploading, setUploading] = useState(false);\r\n\r\n    /* firebase  */\r\n\tconst storage = app.storage();\r\n\tconst database = app.database();\r\n    const { currentUser } = useContext(AuthContext);\r\n\r\n    const handleStartCaptureClick = useCallback(() => {\r\n        if(!startCapture){\r\n            console.log(\"Comenzando a grabar\")\r\n            setStartCapture(true);\r\n            setCapturing(true);\r\n            \r\n            mediaRecorderRef.current = new MediaRecorder(webcamRef.current.stream, {\r\n            mimeType: \"video/webm\"\r\n            });\r\n            mediaRecorderRef.current.addEventListener(\r\n            \"dataavailable\",\r\n            handleDataAvailable\r\n            );\r\n            mediaRecorderRef.current.start();\r\n            //setTalking(true);\r\n        }\r\n        else{\r\n            console.log(\"Reanudando\")\r\n            mediaRecorderRef.current.resume();\r\n            setCapturing(true);\r\n        }\r\n        \r\n    }, [webcamRef, setCapturing, startCapture, mediaRecorderRef]);\r\n    \r\n\r\n    const handleDataAvailable = useCallback(\r\n        ({ data }) => {\r\n            if (data.size > 0) {\r\n                setRecordedChunks((prev) => prev.concat(data));\r\n            }\r\n        },\r\n        [setRecordedChunks]\r\n    );\r\n\r\n\r\n    const handleStopCaptureClick = useCallback(() => {\r\n        if(timeFinalized){\r\n            console.log(\"stop\")\r\n            mediaRecorderRef.current.stop();\r\n            //setTalking(false);\r\n            setCapturing(false);\r\n            setEtapaGrabacion(true);\r\n        }else{\r\n            console.log(\"video pausado\")\r\n            mediaRecorderRef.current.pause();\r\n            setCapturing(false);\r\n        }\r\n        \r\n    }, [mediaRecorderRef, webcamRef,timeFinalized, setCapturing]);\r\n\r\n\r\n\r\n    const handleSend = useCallback(() => {\r\n        setUploading(true);\r\n        if (recordedChunks.length) {\r\n            const blob = new Blob(recordedChunks, {\r\n            type: \"video/webm\" });\r\n\r\n            /* send data to firebase */\r\n\t\t\tconst storageRef = storage.ref(\r\n                `/videos/${currentUser.uid}/momento${moment+1}/video.webm`\r\n\t\t\t);\r\n\t\t\tstorageRef.put(blob).then(function (snapshot) {\r\n\t\t\t\tsnapshot.ref.getDownloadURL().then((downloadURL) => {\r\n\t\t\t\t\t//console.log(downloadURL);\r\n                    database.ref(\r\n                        `respuestas/${currentUser.uid}/momento${moment+1}/`\r\n                    ).update({video: downloadURL});\r\n\t\t\t\t});\r\n\t\t\t\tconsole.log('Uploaded a blob or file!');\r\n                \r\n                finish(true);\r\n\t\t\t});\r\n\r\n\t\t\t/* end send data to firebase */\r\n        }\r\n    }, [recordedChunks]);\r\n\r\n    const videoConstraints = {\r\n        width: 640,\r\n        height: 360,\r\n        facingMode:\"user\"//{ exact: \"environment\" }//\"user\"\r\n    };\r\n\r\n\r\n\r\n    useImperativeHandle(ref, () => ({\r\n\r\n        startRecording: ()=>{\r\n            handleStartCaptureClick()\r\n        },\r\n\r\n        stopRecording: ()=>{\r\n            handleStopCaptureClick()\r\n        },\r\n\r\n        sendInformation: ()=> {\r\n            handleSend();\r\n        }\r\n    \r\n    }));\r\n\r\n    \r\n        return (\r\n            <div className =\"camera-container\">\r\n                <Webcam\r\n                    id=\"camera\"\r\n                    className=\"embed-responsive mt fadeIn first\"\r\n                    audio={true}\r\n                    ref={webcamRef}\r\n                    videoConstraints={videoConstraints}\r\n                    mirrored = {true}\r\n                    //style={{ maxHeight: '60vh', borderRadius:\"1rem\"}}\r\n                />\r\n    \r\n                {/*<Button \r\n                    text={capturing? \"Detener Grabación \" : \"Iniciar Grabación\"} \r\n                    onClick={capturing? handleStopCaptureClick : handleStartCaptureClick} \r\n                    margin=\"1rem\" color=\"#b23b3b\"></Button>\r\n                {/*recordedChunks.length > 0 && (\r\n                    <Button disabled={capturing} text=\"Enviar y continuar\" onClick={handleSend}></Button>\r\n                )*/}\r\n                \r\n            </div>\r\n        );\r\n    \r\n})\r\n  \r\nexport default Camera;","import React, { useEffect, useState, forwardRef, useRef, useImperativeHandle } from 'react';\r\nimport ReactPlayer from 'react-player'\r\nimport './Avatar.css';\r\n\r\nconst Sofia_Idle = process.env.PUBLIC_URL+\"/Videos/Dialogs/Sofia_Idle.mp4\";\r\nconst Roberta_Idle = process.env.PUBLIC_URL+\"/Videos/Dialogs/Roberta_Idle.mp4\";\r\n\r\nconst Avatar = forwardRef(({srcVideosLoop, etapaGrabacion, finalText, onSayEnd, setTalking}, ref) =>{\r\n\r\n    const [videosArray, setVideosArray] = useState([])\r\n    const [videoCount, setVideoCount] = useState(0)\r\n    const [playing, setPlaying] = useState(false)\r\n    const videoRef = useRef(null);\r\n\r\n    useEffect(() => {\r\n\r\n        videoRef.current.addEventListener('play', () =>{\r\n            if(!videoRef.current.src.includes(\"Videos/Dialogs/Sofia_Idle.mp4\") &&//!= window.location.protocol + \"//\" + window.location.host + Sofia_Idle &&\r\n                !videoRef.current.src.includes(\"Videos/Dialogs/Roberta_Idle.mp4\") ){//!= window.location.protocol + \"//\" + window.location.host + Roberta_Idle){\r\n                console.log(\"Comenzando el dialogo\");\r\n                setTalking(true);\r\n            }\r\n            \r\n        });\r\n\r\n        videoRef.current.addEventListener('ended', () =>{\r\n            //console.log(videoRef.current.src + \" || \" + window.location.protocol + \"//\" + window.location.host + Sofia_Idle)\r\n            if(videoRef.current.src != window.location.protocol + \"//\" + window.location.host + Sofia_Idle &&\r\n            videoRef.current.src != window.location.protocol + \"//\" + window.location.host + Roberta_Idle){\r\n                console.log(\"Video finalizado\")\r\n                setPlaying(false);\r\n                setTalking(false);\r\n                onSayEnd(true);\r\n            }\r\n            \r\n        });\r\n\r\n        videoRef.current.addEventListener('pause', () =>{\r\n            console.log(\"Video pausado\")\r\n        });\r\n\r\n        let tempVideosArray = []\r\n        for(let key in srcVideosLoop) {\r\n            var infoJSON = srcVideosLoop[key];\r\n            tempVideosArray.push(infoJSON);\r\n        }\r\n        setVideosArray(tempVideosArray);\r\n        console.log(tempVideosArray)\r\n\r\n    }, []);\r\n\r\n    const getIdle = () =>{\r\n        let videoCharSrc = \"\"\r\n        if(videosArray.length>0){\r\n            const character = videosArray[0].avatar;\r\n            \r\n            if(videosArray.length>0){\r\n\r\n                if(character===\"Roberta\"){\r\n                    videoCharSrc = Roberta_Idle;\r\n                }else if(character===\"Sofía\"){\r\n                    videoCharSrc = Sofia_Idle;\r\n                }\r\n                \r\n                else{\r\n                    videoCharSrc = Sofia_Idle;\r\n                }\r\n            }\r\n            else{\r\n                videoCharSrc = Sofia_Idle;\r\n            }\r\n            //console.log(videoCharSrc)\r\n        }\r\n        \r\n        return videoCharSrc\r\n    }\r\n\r\n\r\n    //Método para empezar la voz mediante botones\r\n    useImperativeHandle(ref, () => ({\r\n        charSay: ()=> {\r\n            setPlaying(true);\r\n            videoRef.current.play();\r\n        },\r\n\r\n        changeAvatarVideo: ()=>{\r\n            videoCount < videosArray.length-1 ?\r\n                setVideoCount(videoCount+1) : setVideoCount(0)\r\n        }\r\n    }));\r\n    \r\n\r\n    return (\r\n        <div className=\"avatar-container-inner\">\r\n            <h3 className=\"character-name\">{videosArray.length>0? videosArray[0].avatar: \"\"}</h3>\r\n            <div className=\"parent\">\r\n                <video \r\n                    id = \"AvatarVideo\"\r\n                    ref={videoRef}\r\n                    src={playing? process.env.PUBLIC_URL+\"/Videos/Dialogs/\" + videosArray[videoCount].srcVideo : getIdle()}// : process.env.PUBLIC_URL+\"/Videos/Dialogs/Sofia_Idle.mp4\"} \r\n                    autoPlay={true}\r\n                    loop={playing? false : true}\r\n                    width=\"100\"\r\n                    className=\"image2 fadeIn first\"\r\n                    //poster={process.env.PUBLIC_URL+\"/Dialogs/avatares/sofia.jpg\"}\r\n                    //onEnded={() => setvideoEnded(true)}\r\n                ></video>\r\n            </div>    \r\n            <p className=\"m-0 mt-1 fadeIn first\">{etapaGrabacion?finalText:\"\" }</p>        \r\n        </div>\r\n    );\r\n})\r\n\r\nexport default Avatar","import React from 'react'\r\nimport { useState, useEffect } from 'react';\r\n\r\nconst Timer = ({ seconds, setTimeFinalized }) => {\r\n    const [timeLeft, setTimeLeft] = useState(seconds);\r\n    const [minutos, setMinutos] = useState(Math.floor((seconds / (60)) % 60));\r\n    const [segundos, setSegundos] = useState(Math.floor((seconds) % 60));\r\n  \r\n    useEffect(() => {\r\n      if (!timeLeft){\r\n        setTimeFinalized(true)\r\n        return;\r\n      } \r\n\r\n      const intervalId = setInterval(() => {\r\n        setTimeLeft(timeLeft - 1);\r\n        setMinutos(Math.floor(((timeLeft-1) / (60)) % 60));\r\n        setSegundos( Math.floor((timeLeft-1) % 60));\r\n      }, 1000);\r\n  \r\n      return () => clearInterval(intervalId);\r\n\r\n    }, [timeLeft]);\r\n  \r\n    return (\r\n      <div>\r\n        {/*<h1>{minutos>0? minutos + \"min \" + segundos + \"seg\" : segundos + \"seg\"}</h1>*/}\r\n        {timeLeft!=0?\r\n        <h1 style={{color: \"#457b9d\", height: \"1rem\"}}>{ minutos + \" : \" + segundos }</h1>:\r\n        <h3 style={{color: \"#b23b3b\", height: \"1rem\"}}>{  \"¡ Se acabó el tiempo, apresúrate !\"}</h3>}\r\n        \r\n      </div>\r\n    );\r\n  };\r\n\r\nexport default Timer;","import React, { Suspense, useState, useEffect, useRef,useContext } from 'react';\r\nimport InventoryModal from '../InventoryModal/InventoryModal'\r\nimport InventoryUseModal from '../InventoryModal/InventoryUseModal'\r\nimport Introduction from '../ViewIntroduction/Introduction'\r\nimport Camera from '../Camera/Camera';\r\nimport Button from '../Button/Button'\r\nimport Avatar from '../Avatar/Avatar'\r\nimport Timer from '../Timer/Timer'\r\nimport './Game.css'\r\nimport $ from 'jquery';\r\n\r\nimport app from '../../FirebaseConfig';\r\nimport { AuthContext } from \"../Authentication/Auth\"; \r\n\r\nconst Game = ()=> {\r\n    const avatarRef = useRef();\r\n    const cameraRef = useRef();\r\n\r\n    const { currentUser } = useContext(AuthContext);\r\n    const database = app.database();\r\n\tconst momentsRef = database.ref('momentos');\r\n\r\n    const [Momentos, setMomentos] = useState([]);\r\n    const [MomentosCount, setMomentosCount] = useState(0);\r\n    const [inventory, setInventory] = useState([]);\r\n\r\n    const [timeFinalized, setTimeFinalized] = useState(false);\r\n    const [capturing, setCapturing] = useState(false);\r\n\r\n    //estados para cambiar de etapa en cada momento\r\n    const [etapaContexto, setEtapaContexto] = useState(false);\r\n    const [etapaSeleccion, setEtapaSeleccion] = useState(false);\r\n    const [etapaDemanda, setEtapaDemanda] = useState(false);\r\n    const [etapaGrabacion, setEtapaGrabacion] = useState(false);\r\n    const [finishMomento, setFinishMomento] = useState(false);\r\n\r\n    const [uploading, setUploading] = useState(false);\r\n    const [talking, setTalking] = useState(false);\r\n\r\n    useEffect(() => {\r\n        console.log(\"iniciando\")\r\n        \r\n        momentsRef.once('value', (snapshot) => {\r\n            let momentsArray = []\r\n\t\t\tlet fbmoments = snapshot.val();\r\n            /*for(let key in fbmoments) {\r\n                var infoJSON = fbmoments[key];\r\n                momentsArray.push(infoJSON);\r\n            }*/\r\n            snapshot.forEach(childSnapshot => {\r\n                const key = childSnapshot.key;\r\n                const data = childSnapshot.val();\r\n                momentsArray.push( { id: key, ...data } );\r\n            });\r\n            setMomentos(momentsArray);\r\n\t\t});\r\n\r\n        database.ref(\r\n            `respuestas/${currentUser.uid}/`\r\n        ).update({usuario: currentUser.email});\r\n        \r\n        //setTimeout(()=>{ setTimeFinalized(true); console.log(\"se acabo el tiempo\") }, 30000);\r\n\t}, []);\r\n\r\n    useEffect(()=>{\r\n        if(Momentos.length > 0 ){\r\n            if(Momentos[MomentosCount].audiosInicio){\r\n                console.log(\"reproducir el video de contexto\")\r\n                //avatarRef.current.charSay();\r\n            }\r\n            else{\r\n                console.log(\"No hay video de contexto\")\r\n            }\r\n        }\r\n        else{\r\n            console.log(\"No existen datos para empezar el assessment\")\r\n        }\r\n    }, [Momentos]);\r\n\r\n\r\n    const clickContinue = ()=>{\r\n        if(!etapaContexto){\r\n            if(Momentos[MomentosCount].audiosInicio){\r\n                avatarRef.current.charSay();\r\n            }\r\n            else{\r\n                if( Momentos[MomentosCount].tipo==\"seleccion\"){\r\n                    setEtapaContexto(true);\r\n                    $('#inventoryModal').modal('show')\r\n                }else if( Momentos[MomentosCount].tipo==\"uso\"){\r\n                    setEtapaContexto(true);\r\n                    console.log(\"uso...\")\r\n                    //Agregar etapa seleccion de inventario\r\n                    $('#inventoryUseModal').modal('show')\r\n                }\r\n            }\r\n            \r\n        }\r\n        if(etapaContexto && !etapaSeleccion){\r\n            if( Momentos[MomentosCount].tipo==\"seleccion\"){\r\n                $('#inventoryModal').modal('show')\r\n            }else if( Momentos[MomentosCount].tipo==\"uso\"){\r\n                //setEtapaSeleccion(true);\r\n                $('#inventoryUseModal').modal('show')\r\n            }\r\n        }\r\n        if(etapaContexto && etapaSeleccion && !etapaDemanda){\r\n            setEtapaDemanda(true);\r\n        }\r\n\r\n        if(etapaContexto && etapaSeleccion && etapaDemanda && !etapaGrabacion){\r\n            if(!capturing){\r\n                cameraRef.current.startRecording()\r\n                \r\n            }else{\r\n                cameraRef.current.stopRecording()\r\n                if(!timeFinalized){\r\n                    avatarRef.current.changeAvatarVideo()\r\n                    avatarRef.current.charSay();\r\n                }\r\n                \r\n\r\n            }\r\n        }\r\n\r\n        if(etapaContexto && etapaSeleccion && etapaDemanda && etapaGrabacion && !finishMomento){\r\n            cameraRef.current.sendInformation();\r\n        }\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        if(etapaContexto){\r\n            console.log(\"contexto finalizado\") \r\n        }\r\n    }, [etapaContexto]);\r\n\r\n    useEffect(() => {\r\n        if(etapaSeleccion){\r\n            console.log(\"selección finalizado\")\r\n            avatarRef.current.charSay();\r\n        }\r\n    }, [etapaSeleccion]);\r\n\r\n    useEffect(() => {\r\n        if(etapaDemanda){\r\n            console.log(\"demanda finalizado\")\r\n        }\r\n    }, [etapaDemanda]);\r\n\r\n    useEffect(() => {\r\n        \r\n        if(finishMomento){\r\n            console.log(\"grabación terminada\")\r\n            setEtapaContexto(false);\r\n            setEtapaSeleccion(false);\r\n            setEtapaDemanda(false);\r\n            setEtapaGrabacion(false);\r\n            setFinishMomento(false)\r\n            //console.log(finishMomento)\r\n            setTimeFinalized(false)\r\n\r\n            setTimeout(function(){ \r\n                setUploading(false);\r\n                if(MomentosCount == Momentos.length-1){\r\n                    app.auth().signOut()\r\n                }else{\r\n                    //setMomentosCount(MomentosCount+1);\r\n                    //console.log(\"sumando momento\")\r\n                }\r\n            }, 3000);\r\n\r\n            if(MomentosCount != Momentos.length-1){\r\n                setMomentosCount(MomentosCount+1);\r\n            }\r\n            \r\n            \r\n        }\r\n    }, [finishMomento]);\r\n\r\n\r\n    const loaderDiv =   <div style={{width: \"100%\", height:\"100%\", display:\"flex\" , justifyContent:\"center\", alignItems:\"center\", flexDirection:\"column\"}}>\r\n                            {!finishMomento && <div className=\"spinner-border text-info\" style={{width: \"3rem\", height:\"3rem\"}} role=\"status\">\r\n                                <span className=\"sr-only\">Cargando...</span>\r\n                            </div>}\r\n                            {finishMomento? \r\n                                <h6 style={{margin:\"1rem\"}}>¡ Respuesta enviada correctamente !</h6> : \r\n                                <h6 style={{margin:\"1rem\"}}>{uploading? \"Enviando respuesta...\" : \"\"}</h6>}\r\n                             \r\n                        </div>\r\n\r\n    if(Momentos.length > 0){\r\n        if (uploading){\r\n            return(\r\n                loaderDiv\r\n            )\r\n        } else{\r\n\r\n            return (\r\n                <div >\r\n                    <div id=\"game-section\">\r\n                        {/* {etapaContexto?(\r\n                                <Timer  \r\n                                seconds={Momentos[MomentosCount].limiteTiempo}\r\n                                setTimeFinalized = {setTimeFinalized}></Timer>\r\n                            ):\"\"} */}\r\n\r\n                        <Timer  \r\n                                seconds={Momentos[MomentosCount].limiteTiempo}\r\n                                setTimeFinalized = {setTimeFinalized}></Timer>\r\n                        <div className=\"context-container\">\r\n                            <div className=\"avatar-container fadeIn second\">\r\n                                <Avatar\r\n                                    setTalking={setTalking}\r\n                                    onSayEnd={!etapaContexto?  setEtapaContexto : setEtapaDemanda}\r\n                                    ref={avatarRef}\r\n                                    etapaGrabacion = {etapaGrabacion}\r\n                                    finalText = {Momentos[MomentosCount].textoFinal}\r\n                                    srcVideosLoop={Momentos[MomentosCount].audiosLoop.audios}></Avatar>\r\n                            </div>\r\n    \r\n                            {!etapaDemanda?(\r\n                                <p id=\"text-context\" className=\"h6 font-weight-normal text-justify fadeIn first\"> \r\n                                    {Momentos[MomentosCount].textoContexto}\r\n                                </p>\r\n                            ):(\r\n                                <Camera \r\n                                    ref={cameraRef}\r\n                                    setTalking={setTalking}\r\n                                    setEtapaGrabacion={setEtapaGrabacion} \r\n                                    finish={setFinishMomento}\r\n                                    setCapturing={setCapturing}\r\n                                    setUploading={setUploading}\r\n                                    timeFinalized = {timeFinalized}\r\n                                    moment = {MomentosCount}></Camera>\r\n                            )}\r\n                            \r\n    \r\n                            <div className=\"objetivo-container\">\r\n                                <h3>objetivo</h3>\r\n                                <p>\r\n                                    {Momentos[MomentosCount].objetivo}\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                        \r\n                        <Button \r\n                            text={!etapaGrabacion? (etapaDemanda? capturing? \"Detener grabación\":\"Iniciar grabación\" : \"Continuar\"):\"Enviar y continuar\"} \r\n                            disabled={talking} \r\n                            margin=\"2rem\" \r\n                            onClick={clickContinue}\r\n                            color= {capturing? \"#b23b3b\" : \"#457b9d\"}\r\n                        ></Button>\r\n            \r\n                        <div className=\"game-buttons-container\">\r\n                            <button type=\"button\" className=\"btn btn-warning\" \r\n                            disabled={!etapaContexto} data-toggle=\"modal\" data-target=\"#inventoryUseModal\">\r\n                                INVENTARIO\r\n                            </button>\r\n                            \r\n                        </div>\r\n                    \r\n                        {/*Modal de selección*/} \r\n                        <InventoryModal \r\n                            tipo={Momentos[MomentosCount].tipo} \r\n                            limiteElementosSeleccionar={Momentos[MomentosCount].limiteElementosSeleccionar} \r\n                            setSelection={setEtapaSeleccion}\r\n                            setInventory={setInventory}\r\n                        ></InventoryModal>\r\n\r\n                        {/*Modal del inventario*/} \r\n                        <InventoryUseModal \r\n                            tipo={Momentos[MomentosCount].tipo} \r\n                            limiteElementosSeleccionar={Momentos[MomentosCount].limiteElementosUsar} \r\n                            setSelection={setEtapaSeleccion}\r\n                            inventory={inventory}\r\n                            setInventory={setInventory}\r\n                        ></InventoryUseModal>\r\n                    </div>\r\n                    \r\n                </div>\r\n            );\r\n        }\r\n        \r\n        \r\n    }\r\n    else{\r\n        return loaderDiv\r\n    }\r\n    \r\n}\r\n  \r\nexport default Game;","import React, { useState } from 'react';\r\nimport Header from '../components/Header/Header'\r\nimport Introduction from '../components/ViewIntroduction/Introduction';\r\nimport Game from '../components/ViewGame/Game';\r\nimport './Assessment.css'\r\n\r\n\r\nfunction Assessment() {\r\n  const [videosEnded, setvideosEnded] = useState(false);\r\n\r\n  return (\r\n    <div className=\"game-container \">\r\n      <Header></Header>\r\n      <div className=\"o-container\">\r\n        {!videosEnded? <Introduction onVideosEnded={setvideosEnded}></Introduction>:<Game></Game>} \r\n        <div className=\"credits-kaleido fadeIn third\">\r\n          <p className=\"mb-0 mx-3 font-weight-light \">Powered By</p>\r\n          <img src={`${process.env.PUBLIC_URL}/Images/LogoKaleido.png`} height={80} />\r\n        </div>\r\n      </div>\r\n      \r\n    </div>\r\n    \r\n  );\r\n}\r\n  \r\nexport default Assessment;","function NotFound404() {\r\n    return (\r\n      <div className=\"\">\r\n        404 Página no encontrada\r\n      </div>\r\n    );\r\n  }\r\n  \r\nexport default NotFound404;","\nimport {\n\tHashRouter as Router,\n\tSwitch,\n\tRoute,\n  Redirect\n} from 'react-router-dom';\nimport './App.css';\n\n//Auth provider\nimport {AuthProvider} from './components/Authentication/Auth';\nimport PrivateRoute from './components/PrivateRoute/PrivateRoute';\n\n//views\nimport Login from './views/Login';\nimport Assessment from './views/Assessment';\nimport NotFound404 from './views/NotFound404';\n\nfunction App() {\n  return (\n    <AuthProvider>\n      <Router>\n        <div className=\"App\">\n            <Switch>\n              <Redirect exact from=\"/\" to=\"/Login\" />\n              <Route exact path=\"/Login\" component={Login}/>\n              <PrivateRoute exact path=\"/assessment\" component={Assessment}/>\n              <Route path=\"*\"> <NotFound404 /> </Route>\n            </Switch>  \n        </div>\n      </Router>\n    </AuthProvider>\n    \n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\n//importacion de bootstrap\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/dist/js/bootstrap.bundle.min';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}